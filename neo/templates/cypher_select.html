<!doctype html>
<html class="x-admin-sm">

<head>
    <meta charset="UTF-8">
    <title>知识图谱总览</title>
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
        content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="stylesheet" href="./lib/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="./lib/layui/css/layui.mobile.css">
    <link rel="stylesheet" href="./css/font.css">
    <link rel="stylesheet" href="./css/xadmin.css">
    <script src="./lib/layui/layui.js"></script>

</head>

<body>
    <div class="layui-fluid">
        <div class="layui-row layui-col-space15">
            <div class="layui-col-md12">
                <div class="layui-card">
                    <div class="layui-card-body">
                        <form class="layui-form" action="">
                            <div class="layui-form-item layui-form-text">
                                <label class="layui-form-label">填写Cypher语句</label>
                                <div class="layui-input-block">
                                  <textarea placeholder="请输入Cypher语句" class="layui-textarea"></textarea>
                                </div>
                              </div>
                            <div class="layui-form-item">
                                <div class="layui-input-block">
                                    <button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
                                    <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                                </div>
                            </div>
                        </form>
                        <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
                        <div id="main" style="width: 100%;height:600px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="layui.js"></script>
    <script>
        layui.use('form', function () {
            var form = layui.form;
        });
    </script>
    <script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js"></script>
    <script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/extension/bmap.min.js"></script>
    <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('main'));
        var categories = [];
        // 随便初始化的数据，到时候由后端传入
        node = [{
            name: 'node01',
            des: 'nodedes01',
            symbolSize: 70,
            category: 0,
        }, {
            name: 'node02',
            des: 'nodedes02',
            symbolSize: 50,
            category: 1,
        }, {
            name: 'node03',
            des: 'nodedes3',
            symbolSize: 50,
            category: 1,
        }, {
            name: 'node04',
            des: 'nodedes04',
            symbolSize: 50,
            category: 1,
        }, {
            name: 'node05',
            des: 'nodedes05',
            symbolSize: 50,
            category: 2,
        }]
        link = [{
            source: 'node01',
            target: 'node02',
            name: 'link01',
            des: 'link01des'
        }, {
            source: 'node01',
            target: 'node03',
            name: 'link02',
            des: 'link02des'
        }, {
            source: 'node01',
            target: 'node04',
            name: 'link03',
            des: 'link03des'
        }, {
            source: 'node01',
            target: 'node05',
            name: 'link04',
            des: 'link05des'
        }]
        //随便初始化一下类名，这个到时候也要输入
        for (var i = 0; i < 3; i++) {
            categories[i] = {
                name: '类目' + i
            };
        }
        option = {
            // 图的标题
            title: {
                text: '查询结果'
            },
            // 提示框的配置
            tooltip: {
                formatter: function (x) {
                    return x.data.des;
                }
            },
            // 工具箱
            toolbox: {
                // 显示工具箱
                show: true,
                feature: {
                    mark: {
                        show: true
                    },
                    // 还原
                    restore: {
                        show: true
                    },
                    // 保存为图片
                    saveAsImage: {
                        show: true
                    }
                }
            },
            legend: [{
                // selectedMode: 'single',
                data: categories.map(function (a) {
                    return a.name;
                })
            }],
            series: [{
                type: 'graph', // 类型:关系图
                layout: 'force', //图的布局，类型为力导图
                symbolSize: 40, // 调整节点的大小
                roam: true, // 是否开启鼠标缩放和平移漫游。默认不开启。如果只想要开启缩放或者平移,可以设置成 'scale' 或者 'move'。设置成 true 为都开启
                edgeSymbol: ['circle', 'arrow'],
                edgeSymbolSize: [2, 10],
                edgeLabel: {
                    normal: {
                        textStyle: {
                            fontSize: 12
                        },
                        show: true,
                        formatter: function (x) {
                            return x.data.name;
                        }
                    }
                },
                force: {
                    repulsion: 2500,
                    edgeLength: [10, 50]
                },
                draggable: true,
                lineStyle: {
                    normal: {
                        width: 2,
                        color: '#4b565b',
                    }
                },
                label: {
                    normal: {
                        show: true,
                        textStyle: {}
                    }
                },

                // 数据
                data: node,
                links: link,
                categories: categories,
            }]
        };
        myChart.setOption(option);
    </script>
</body>

</html>